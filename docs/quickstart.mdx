# Quickstart

This guide is optimized for one goal: first green CI in one PR cycle.

## Prerequisites

- GitHub repository with Actions enabled
- Permission to open PRs in the target repository
- Node.js available locally for CLI bootstrap path

## Fast path (CLI)

```bash
npx solvely-launchpad init --preset node-lib --yes
```

This generates a caller workflow pinned to `@v1` and baseline policy files.

For non-package repos, skip release generation:

```bash
npx solvely-launchpad init --preset node-lib --yes --app true
```

Enable strict commitlint from day one (optional):

```bash
npx solvely-launchpad init --preset node-lib --yes --commitlint-strict true
```

Default behavior is non-blocking commitlint (`strict: false`).

## Fast path (GitHub-only setup)

Use the `Setup Solvely Launchpad` workflow (`workflow_dispatch`) if you want a setup PR without local CLI execution.

## Minimum caller contract

Your caller workflow should include this baseline:

```yaml
name: CI
on:
  pull_request:
  push:
    branches: [main]

permissions:
  contents: read
  pull-requests: write

concurrency:
  group: ci-${GIT_REF}
  cancel-in-progress: true

jobs:
  ci:
    uses: Solvely-Colin/solvely-launchpad/.github/workflows/ci.yml@v1
```

## First green CI in one PR cycle

1. Run init with the closest preset.
2. Open PR with generated files.
3. If install/bootstrap fails, set `with.install-command` explicitly.
4. If optional gates fail, disable only the failing optional input temporarily, then re-enable after baseline stabilizes.

### Typical install-command overrides

```yaml
jobs:
  ci:
    uses: Solvely-Colin/solvely-launchpad/.github/workflows/ci.yml@v1
    with:
      install-command: pnpm install --frozen-lockfile
```

```yaml
jobs:
  ci:
    uses: Solvely-Colin/solvely-launchpad/.github/workflows/ci.yml@v1
    with:
      install-command: npm ci --workspaces
```

## Add quality gates after baseline is green

Call `quality-gates.yml` as a separate job in the same caller workflow.

```yaml
jobs:
  ci:
    uses: Solvely-Colin/solvely-launchpad/.github/workflows/ci.yml@v1

  quality-gates:
    uses: Solvely-Colin/solvely-launchpad/.github/workflows/quality-gates.yml@v1
    with:
      dependency-review: true
      sbom: true
      codeql: false
      slsa-provenance: false
      ossf-scorecard: false
```

## Validate local config health

Run doctor from repository root:

```bash
npx solvely-launchpad doctor
```

Doctor warns on:

- missing caller permissions baseline
- reusable workflow refs on `@main` instead of `@v1`
- policy/gate wiring mismatches

## Release publish flow (for package repos)

This repository uses [`.github/workflows/publish-launchpad.yml`](../.github/workflows/publish-launchpad.yml).

Release steps:

1. Set `NPM_TOKEN` in repository secrets.
2. Create a GitHub release (example: `v0.1.1`).
3. Publish workflow runs preflight and reusable release publish.
4. Package is published to npm.

## Policy file baseline

Create `.citemplate.yml`:

```yaml
version: 1
preset: node-lib
checks:
  required: [ci, test]
```

Then iterate from baseline instead of turning on every optional gate at once.
