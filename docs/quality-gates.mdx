---
title: Quality Gates
description: Configure optional quality and security gates.
---

# Quality Gates

Quality gates are reusable, opt-in checks layered on top of baseline CI.

Source workflow:

- [`.github/workflows/quality-gates.yml`](../.github/workflows/quality-gates.yml)

## Adoption strategy

Use a staged rollout:

1. get baseline CI green
2. enable `dependency-review` and `sbom`
3. enable `codeql`
4. enable `slsa-provenance` and `ossf-scorecard`

This avoids overwhelming first-time adopters.

## Example caller job

```yaml
jobs:
  quality-gates:
    uses: Solvely-Colin/solvely-launchpad/.github/workflows/quality-gates.yml@v1
    with:
      dependency-review: true
      sbom: true
      codeql: false
      slsa-provenance: false
      ossf-scorecard: false
```

## Policy mapping example

```yaml
checks:
  security:
    dependency_review: true
    sbom: true
    codeql: false
    slsa_provenance: false
    ossf_scorecard: false
```

## Inputs

- `codeql`
- `dependency-review`
- `sbom`
- `slsa-provenance`
- `ossf-scorecard`

## Caller permissions

Common required permissions:

- `contents: read`
- `pull-requests: write`
- `security-events: write`
- `id-token: write`
- `attestations: write`

Minimal set depends on which gates are enabled.

## Gate behavior reference

### CodeQL

Purpose: static code security analysis.

Common failure: autobuild cannot infer project build.

Remediation: add explicit setup/build commands before CodeQL.

### Dependency Review

Purpose: detect risky dependency changes on pull requests.

Execution rule: runs only in `pull_request` context.

Remediation on failure: review diff, license/policy impact, and allowlist decisions.

### SBOM

Purpose: produce SPDX JSON SBOM artifact.

Common failure: content read/generation issue.

Remediation: verify repository read access and rerun.

### SLSA Provenance

Purpose: generate build provenance attestation.

Common failure: missing OIDC/attestation permissions.

Remediation: grant `id-token: write` and `attestations: write`.

### OSSF Scorecard

Purpose: supply-chain posture scan with SARIF output.

Common failure: SARIF upload or permission mismatch.

Remediation: ensure `security-events: write` and compatible repository access.

## Reading gate summaries

Each run includes summary rows for:

- enabled state
- executed state
- status (`success`, `failure`, `skipped`)
- skip/failure reason

Use this to distinguish policy-intentional skips from real regressions.
